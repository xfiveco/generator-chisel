@use '~design' as *;
@use '../../design/settings';

$_buttons-icons: settings.$buttons-icons;

.wp-block-button {
  .wp-block-button__link {
    @include button;

    &.has-text-align-center {
      justify-content: center;
    }

    &:disabled {
      @include button-disabled;
    }
  }

  .wp-block-button__link,
  &.is-style-primary .wp-block-button__link {
    @include button-primary;
    @include button-primary-icon;

    &:hover,
    &:focus {
      @include button-primary-hover;
    }
  }

  &.is-style-primary-outline .wp-block-button__link {
    @include button-primary-outline;
    @include button-primary-outline-icon;

    &:hover,
    &:focus {
      @include button-primary-outline-hover;
      @include button-primary-outline-icon-hover;
    }
  }

  &.is-style-secondary .wp-block-button__link {
    @include button-secondary;

    &:hover,
    &:focus {
      @include button-secondary-hover;
    }
  }

  &.is-style-secondary-outline .wp-block-button__link {
    @include button-secondary-outline;
    @include button-secondary-outline-icon;

    &:hover,
    &:focus {
      @include button-secondary-outline-hover;
      @include button-secondary-outline-icon-hover;
    }
  }

  &.is-style-tertiary .wp-block-button__link {
    @include button-tertiary;

    &:hover,
    &:focus {
      @include button-tertiary-hover;
    }
  }

  &.is-style-tertiary-outline .wp-block-button__link {
    @include button-tertiary-outline;
    @include button-tertiary-outline-icon;

    &:hover,
    &:focus {
      @include button-tertiary-outline-hover;
      @include button-tertiary-outline-icon-hover;
    }
  }

  &.is-size-small .wp-block-button__link {
    @include button-small;
  }

  &.is-size-large .wp-block-button__link {
    @include button-large;
  }

  &.has-icon {
    .wp-block-button__link {
      @include button-icon;

      &.is-size-small .wp-block-button__link {
        @include button-icon-small;
      }

      &.is-size-large .wp-block-button__link {
        @include button-icon-large;
      }

      &::after,
      &::before {
        display: block;
        width: px-rem(24);
        height: px-rem(24);
        margin-left: px-rem(8);
        content: '';
      }

      &::before {
        display: none;
      }
    }

    &.has-icon-left .wp-block-button__link {
      &::before {
        display: block;
        margin-right: px-rem(8);
        margin-left: 0;
      }

      &::after {
        display: none;
      }
    }
  }

  @each $button-icon in $_buttons-icons {
    &.has-icon-#{$button-icon} .wp-block-button__link {
      &::after,
      &::before {
        @include get-icon($button-icon);
      }
    }
  }
}
